<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pill Xpress | Dawai sahi, daam sahi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary: #004f9e;
      --primary-dark: #003a73;
      --accent: #ff4b3a;
      --accent-soft: #ffe5e1;
      --accent2: #ff9f1c;
      --bg: #f5f7fb;
      --card-bg: #ffffff;
      --text: #1f2933;
      --muted: #6b7280;
      --radius-lg: 1.5rem;
      --shadow-soft: 0 15px 35px rgba(15, 23, 42, 0.08);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top left, #fdf2f2, #eef2ff 40%, #f5f7fb 70%);
      color: var(--text);
      min-height: 100vh;
    }

    .app-shell {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1.5rem 1.25rem 3rem;
    }

    /* HEADER */
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.85rem;
    }

    .brand-logo {
      width: 56px;
      height: 56px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ff4b3a 0%, #ff7a3a 50%, #004f9e 51%, #0074d9 100%);
      position: relative;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.25);
      overflow: hidden;
      animation: float-pill 3s ease-in-out infinite;
    }

    .brand-logo::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.8) 0, transparent 40%);
      mix-blend-mode: screen;
    }

    .brand-logo-pill {
      position: absolute;
      inset: 12px;
      border-radius: 999px;
      border: 2px solid rgba(255, 255, 255, 0.85);
    }

    .brand-text h1 {
      font-size: 1.4rem;
      font-weight: 700;
      letter-spacing: 0.02em;
      color: var(--primary-dark);
      display: flex;
      align-items: baseline;
      gap: 0.25rem;
    }

    .brand-text h1 span {
      font-weight: 600;
      color: var(--accent);
      font-size: 1rem;
    }

    .tagline {
      font-size: 0.85rem;
      color: var(--muted);
      margin-top: 0.15rem;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 0.85rem;
    }

    .pill-badge {
      background: rgba(16, 185, 129, 0.1);
      color: #047857;
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .pill-badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.35);
    }

    /* HERO */
    .hero {
      display: grid;
      gap: 1.75rem;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.1fr);
      align-items: center;
      margin-bottom: 2.2rem;
    }

    @media (max-width: 900px) {
      .hero {
        grid-template-columns: minmax(0, 1fr);
      }
      header {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    .hero-copy-title {
      font-size: 2rem;
      line-height: 1.15;
      margin-bottom: 0.75rem;
      color: var(--primary-dark);
    }

    .hero-copy-title span {
      color: var(--accent);
    }

    .hero-sub {
      font-size: 0.95rem;
      color: var(--muted);
      margin-bottom: 1.1rem;
    }

    .hero-tagline-chip {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      background: rgba(255, 155, 51, 0.08);
      border-radius: 999px;
      padding: 0.25rem 0.7rem;
      margin-bottom: 0.7rem;
      font-size: 0.8rem;
      color: var(--accent2);
      font-weight: 500;
    }

    .hero-tagline-chip-icon {
      width: 16px;
      height: 16px;
      border-radius: 999px;
      border: 2px solid rgba(255, 159, 28, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hero-tagline-chip-icon::before {
      content: "‚Çπ";
      font-size: 0.7rem;
      font-weight: 700;
    }

    /* SEARCH CARD */
    .search-card {
      background: rgba(255, 255, 255, 0.92);
      border-radius: var(--radius-lg);
      padding: 1rem 1rem 1.15rem;
      box-shadow: var(--shadow-soft);
      backdrop-filter: blur(20px);
      position: relative;
      overflow: hidden;
    }

    .search-card::before {
      content: "";
      position: absolute;
      inset: -30%;
      background: radial-gradient(circle at 0 0, rgba(255, 75, 58, 0.07), transparent 55%),
                  radial-gradient(circle at 100% 100%, rgba(0, 79, 158, 0.08), transparent 50%);
      opacity: 0.9;
      pointer-events: none;
    }

    .search-card-inner {
      position: relative;
      z-index: 1;
    }

    .search-row {
      display: flex;
      gap: 0.6rem;
      margin-bottom: 0.7rem;
    }

    .search-input-wrap {
      position: relative;
      flex: 1;
    }

    .search-input-wrap input {
      width: 100%;
      padding: 0.7rem 0.9rem 0.7rem 2.3rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 0.9rem;
      outline: none;
      transition: all 0.2s ease;
      background: rgba(248, 250, 252, 0.9);
    }

    .search-input-wrap input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.18);
      background: #ffffff;
    }

    .search-icon {
      position: absolute;
      left: 0.9rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.95rem;
      opacity: 0.6;
    }

    .search-btn {
      border: none;
      padding: 0.7rem 1.3rem;
      border-radius: 999px;
      background: linear-gradient(135deg, #ff4b3a, #ff9f1c);
      color: #fff;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      box-shadow: 0 10px 25px rgba(248, 113, 113, 0.35);
      transition: transform 0.16s ease, box-shadow 0.16s ease, filter 0.16s ease;
    }

    .search-btn span.icon {
      font-size: 1.1rem;
      margin-top: -2px;
    }

    .search-btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 14px 30px rgba(248, 113, 113, 0.4);
    }

    .search-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.75rem;
      color: var(--muted);
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .search-meta-highlight {
      color: var(--primary);
      font-weight: 500;
    }

    .search-meta-pills {
      display: flex;
      gap: 0.25rem;
      flex-wrap: wrap;
    }

    .meta-pill {
      padding: 0.2rem 0.6rem;
      border-radius: 999px;
      background: rgba(226, 232, 240, 0.8);
      font-size: 0.7rem;
      cursor: default;
    }

    .meta-pill.primary {
      background: rgba(37, 99, 235, 0.08);
      color: #1d4ed8;
      font-weight: 500;
    }

    /* HERO SIDE CARD */
    .hero-side-card {
      background: linear-gradient(145deg, #004f9e, #001c42);
      border-radius: var(--radius-lg);
      padding: 1.25rem 1.15rem;
      color: #e5e7eb;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .hero-side-pill {
      position: absolute;
      width: 210px;
      height: 210px;
      background: linear-gradient(135deg, #ff4b3a 0%, #ff7a3a 50%, #004f9e 51%, #0074d9 100%);
      border-radius: 999px;
      right: -80px;
      bottom: -60px;
      opacity: 0.16;
      transform: rotate(-24deg);
    }

    .hero-side-card-content {
      position: relative;
      z-index: 1;
    }

    .hero-side-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      opacity: 0.9;
      margin-bottom: 0.25rem;
    }

    .hero-side-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .hero-side-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.75rem;
      font-size: 0.8rem;
      margin-top: 0.7rem;
    }

    .hero-stat {
      background: rgba(15, 23, 42, 0.55);
      border-radius: 1rem;
      padding: 0.55rem 0.6rem;
    }

    .hero-stat-label {
      font-size: 0.7rem;
      opacity: 0.8;
    }

    .hero-stat-value {
      font-size: 0.95rem;
      font-weight: 600;
      margin-top: 0.15rem;
    }

    /* MAIN LAYOUT */
    .main-grid {
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(0, 1fr);
      gap: 1.5rem;
      align-items: flex-start;
    }

    @media (max-width: 960px) {
      .main-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    /* FILTER BAR */
    .filter-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.85rem;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .filter-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
    }

    .filter-tab {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      padding: 0.35rem 0.75rem;
      font-size: 0.75rem;
      background: rgba(248, 250, 252, 0.9);
      cursor: pointer;
      transition: all 0.18s ease;
    }

    .filter-tab.active {
      background: rgba(37, 99, 235, 0.08);
      border-color: #2563eb;
      color: #1d4ed8;
      font-weight: 500;
    }

    .sort-select {
      font-size: 0.75rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      padding: 0.35rem 0.7rem;
      background: rgba(248, 250, 252, 0.95);
      outline: none;
    }

    /* PRODUCT GRID */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.9rem;
    }

    @media (max-width: 720px) {
      .product-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .product-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 1.25rem;
      padding: 0.75rem 0.8rem;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
      display: grid;
      grid-template-columns: 74px minmax(0, 1fr);
      gap: 0.75rem;
      transform: translateY(10px);
      opacity: 0;
      transition: transform 0.26s ease, box-shadow 0.18s ease, opacity 0.26s ease;
    }

    .product-card.visible {
      transform: translateY(0);
      opacity: 1;
    }

    .product-card:hover {
      box-shadow: 0 20px 35px rgba(15, 23, 42, 0.12);
      transform: translateY(-2px);
    }

    .product-img-wrap {
      border-radius: 1.1rem;
      background: linear-gradient(145deg, #eff6ff, #e0f2fe);
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
    }

    .product-img-pill {
      width: 46px;
      height: 46px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ff4b3a 0%, #ff9f1c 40%, #004f9e 41%, #0074d9 100%);
      position: relative;
      transform: rotate(-22deg);
    }

    .product-img-pill::before {
      content: "";
      position: absolute;
      inset: 9px;
      border-radius: 999px;
      border: 2px solid rgba(255, 255, 255, 0.85);
    }

    .product-body {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      min-width: 0;
    }

    .product-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--primary-dark);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .product-sub {
      font-size: 0.75rem;
      color: var(--muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .product-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
    }

    .tag {
      font-size: 0.65rem;
      padding: 0.15rem 0.4rem;
      border-radius: 999px;
      background: rgba(226, 232, 240, 0.8);
    }

    .tag.rx {
      background: rgba(249, 115, 22, 0.12);
      color: #ea580c;
      font-weight: 500;
    }

    .price-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 0.25rem;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .price-stack {
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
    }

    .price-now {
      font-size: 0.95rem;
      font-weight: 700;
      color: var(--accent);
    }

    .price-mrp {
      font-size: 0.7rem;
      color: var(--muted);
      text-decoration: line-through;
    }

    .price-save {
      font-size: 0.7rem;
      color: #16a34a;
      font-weight: 500;
    }

    .discount-pill {
      font-size: 0.7rem;
      padding: 0.18rem 0.6rem;
      border-radius: 999px;
      background: rgba(34, 197, 94, 0.09);
      color: #16a34a;
      font-weight: 600;
    }

    .add-btn {
      border-radius: 999px;
      border: none;
      padding: 0.35rem 0.9rem;
      background: var(--primary);
      color: #fff;
      font-size: 0.75rem;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      transition: background 0.16s ease, transform 0.16s ease, box-shadow 0.16s ease;
      box-shadow: 0 8px 16px rgba(15, 23, 42, 0.22);
    }

    .add-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
      box-shadow: 0 12px 22px rgba(15, 23, 42, 0.26);
    }

    .add-btn:active {
      transform: translateY(0);
      box-shadow: 0 5px 10px rgba(15, 23, 42, 0.22);
    }

    /* CART */
    .cart-card {
      background: rgba(15, 23, 42, 0.96);
      color: #e5e7eb;
      border-radius: 1.3rem;
      padding: 1rem 0.9rem;
      box-shadow: var(--shadow-soft);
      position: sticky;
      top: 1.25rem;
      max-height: calc(100vh - 2.5rem);
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      overflow: hidden;
    }

    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
    }

    .cart-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .cart-pill {
      font-size: 0.7rem;
      padding: 0.22rem 0.65rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .cart-body {
      flex: 1;
      overflow-y: auto;
      padding-right: 0.3rem;
    }

    .cart-empty {
      font-size: 0.8rem;
      color: #9ca3af;
      padding: 0.4rem 0;
    }

    .cart-item {
      display: grid;
      grid-template-columns: minmax(0, 1fr) auto;
      gap: 0.4rem;
      font-size: 0.75rem;
      padding: 0.55rem 0;
      border-bottom: 1px dashed rgba(55, 65, 81, 0.7);
    }

    .cart-item-name {
      font-weight: 500;
      color: #e5e7eb;
    }

    .cart-item-meta {
      color: #9ca3af;
      font-size: 0.7rem;
    }

    .cart-item-controls {
      display: flex;
      align-items: center;
      gap: 0.3rem;
      justify-content: flex-end;
    }

    .qty-btn {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      background: transparent;
      color: #e5e7eb;
      font-size: 0.8rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.15s ease, border-color 0.15s ease;
    }

    .qty-btn:hover {
      background: rgba(15, 23, 42, 0.8);
      border-color: #e5e7eb;
    }

    .cart-qty {
      min-width: 20px;
      text-align: center;
    }

    .cart-item-price {
      font-weight: 500;
      color: #f97316;
      font-size: 0.78rem;
    }

    .cart-footer {
      border-radius: 1.1rem;
      background: radial-gradient(circle at 0 0, rgba(248, 250, 252, 0.2), transparent 50%);
      border: 1px solid rgba(55, 65, 81, 0.9);
      padding: 0.7rem 0.7rem 0.85rem;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      font-size: 0.8rem;
    }

    .cart-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .cart-total {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .cart-savings {
      color: #22c55e;
      font-size: 0.78rem;
    }

    .checkout-btn {
      margin-top: 0.4rem;
      border-radius: 999px;
      border: none;
      width: 100%;
      padding: 0.55rem 0.9rem;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #f9fafb;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      justify-content: center;
      gap: 0.35rem;
      align-items: center;
      box-shadow: 0 12px 25px rgba(22, 163, 74, 0.5);
      transition: transform 0.16s ease, box-shadow 0.16s ease;
    }

    .checkout-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 16px 30px rgba(22, 163, 74, 0.6);
    }

    .checkout-note {
      font-size: 0.7rem;
      color: #9ca3af;
      margin-top: 0.2rem;
    }

    /* FOOTER MINI */
    .footer-mini {
      margin-top: 1.8rem;
      font-size: 0.7rem;
      color: #9ca3af;
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .footer-mini span {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    /* ANIMATIONS */
    @keyframes float-pill {
      0%, 100% {
        transform: translateY(0) rotate(-15deg);
      }
      50% {
        transform: translateY(-5px) rotate(-18deg);
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <!-- HEADER -->
    <header>
      <div class="brand">
        <!-- Replace src with your logo file -->
        <div class="brand-logo">
          <div class="brand-logo-pill"></div>
        </div>
        <div class="brand-text">
          <h1>Pill Xpress <span>Rx</span></h1>
          <div class="tagline">Dawai sahi, daam sahi</div>
        </div>
      </div>
      <div class="header-actions">
        <div class="pill-badge">
          <div class="pill-badge-dot"></div>
          20% OFF on all medicines
        </div>
        <span>100% genuine | Home delivery</span>
      </div>
    </header>

    <!-- HERO -->
    <section class="hero">
      <div>
        <div class="hero-tagline-chip">
          <div class="hero-tagline-chip-icon"></div>
          Dawai sahi, daam sahi ‚Äì always!
        </div>
        <h2 class="hero-copy-title">
          Order medicines in seconds.<br />
          <span>Save flat 20% on MRP.</span>
        </h2>
        <p class="hero-sub">
          Upload your prescription, search from thousands of medicines and get them delivered
          at your doorstep with lightning-fast service.
        </p>

        <div class="search-card">
          <div class="search-card-inner">
            <div class="search-row">
              <div class="search-input-wrap">
                <span class="search-icon">üîç</span>
                <input id="searchInput" type="text" placeholder="Search by medicine / salt / brand..." />
              </div>
              <button class="search-btn" id="searchBtn">
                Search
                <span class="icon">‚á¢</span>
              </button>
            </div>
            <div class="search-meta">
              <span>
                Showing <span class="search-meta-highlight" id="productCount">0</span> results
              </span>
              <div class="search-meta-pills">
                <span class="meta-pill primary">Flat 20% OFF MRP</span>
                <span class="meta-pill">Free delivery above ‚Çπ499</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <aside class="hero-side-card">
        <div class="hero-side-pill"></div>
        <div class="hero-side-card-content">
          <div class="hero-side-label">Why Pill Xpress?</div>
          <div class="hero-side-title">Smart, safe &amp; speedy pharmacy.</div>
          <div class="hero-side-grid">
            <div class="hero-stat">
              <div class="hero-stat-label">Average delivery</div>
              <div class="hero-stat-value">4‚Äì6 hours*</div>
            </div>
            <div class="hero-stat">
              <div class="hero-stat-label">Max savings</div>
              <div class="hero-stat-value">Up to 20%</div>
            </div>
            <div class="hero-stat">
              <div class="hero-stat-label">Authenticity</div>
              <div class="hero-stat-value">100% trusted</div>
            </div>
            <div class="hero-stat">
              <div class="hero-stat-label">Serviceable cities</div>
              <div class="hero-stat-value">PAN India</div>
            </div>
          </div>
        </div>
      </aside>
    </section>

    <!-- MAIN CONTENT -->
    <main class="main-grid">
      <!-- PRODUCTS -->
      <section>
        <div class="filter-bar">
          <div class="filter-tabs" id="filterTabs">
            <button class="filter-tab active" data-filter="all">All</button>
            <button class="filter-tab" data-filter="tablet">Tablets</button>
            <button class="filter-tab" data-filter="syrup">Syrups</button>
            <button class="filter-tab" data-filter="ointment">Ointments</button>
            <button class="filter-tab" data-filter="supplement">Supplements</button>
          </div>
          <select class="sort-select" id="sortSelect">
            <option value="relevance">Sort: Relevance</option>
            <option value="price-low">Price: Low to High</option>
            <option value="price-high">Price: High to Low</option>
            <option value="name-az">Name: A ‚Üí Z</option>
          </select>
        </div>

        <div class="product-grid" id="productGrid"></div>
      </section>

      <!-- CART -->
      <aside class="cart-card">
        <div class="cart-header">
          <div>
            <div class="cart-title">Your Cart</div>
            <div style="font-size: 0.72rem; color:#9ca3af;">
              20% OFF already applied on all items
            </div>
          </div>
          <div class="cart-pill">
            <span id="cartItemsCount">0</span> items
          </div>
        </div>
        <div class="cart-body" id="cartBody">
          <div class="cart-empty">No items yet. Add medicines to see your savings!</div>
        </div>
        <div class="cart-footer">
          <div class="cart-row">
            <span class="cart-total">Total payable</span>
            <span class="cart-total" id="cartTotal">‚Çπ0.00</span>
          </div>
          <div class="cart-row">
            <span>MRP total</span>
            <span id="cartMrp">‚Çπ0.00</span>
          </div>
          <div class="cart-row">
            <span>Savings (20% OFF)</span>
            <span class="cart-savings" id="cartSavings">‚Çπ0.00</span>
          </div>
          <button class="checkout-btn" type="button">
            Proceed to checkout
            <span>‚ü∂</span>
          </button>
          <div class="checkout-note">
            Actual order processing, payment &amp; prescription upload need to be implemented
            on your backend.
          </div>
        </div>
      </aside>
    </main>

    <footer class="footer-mini">
      <span>¬© <span id="year"></span> Pill Xpress. Dawai sahi, daam sahi.</span>
      <span>For display/demo only ‚Äì plug in your own catalog &amp; backend.</span>
    </footer>
  </div>

  <script>
    // SAMPLE MEDICINES (replace with your DB/API)
    const PRODUCTS = [
      {
        id: 1,
        name: "Paracetamol 500mg Tablet",
        salt: "Paracetamol",
        form: "tablet",
        strength: "500 mg",
        packSize: "Strip of 10 tablets",
        manufacturer: "PX Healthcare Ltd.",
        mrp: 30.0,
        prescriptionRequired: false,
        category: "Pain Relief"
      },
      {
        id: 2,
        name: "Amoxicillin 500mg Capsule",
        salt: "Amoxicillin",
        form: "tablet",
        strength: "500 mg",
        packSize: "Strip of 10 capsules",
        manufacturer: "Pill Xpress Labs",
        mrp: 122.5,
        prescriptionRequired: true,
        category: "Antibiotic"
      },
      {
        id: 3,
        name: "Cetrizine 10mg Tablet",
        salt: "Cetirizine",
        form: "tablet",
        strength: "10 mg",
        packSize: "Strip of 10 tablets",
        manufacturer: "PX Pharma",
        mrp: 18.0,
        prescriptionRequired: false,
        category: "Allergy"
      },
      {
        id: 4,
        name: "Pantoprazole 40mg Tablet",
        salt: "Pantoprazole",
        form: "tablet",
        strength: "40 mg",
        packSize: "Strip of 15 tablets",
        manufacturer: "PX Life Sciences",
        mrp: 165.0,
        prescriptionRequired: true,
        category: "Acidity"
      },
      {
        id: 5,
        name: "Vitamin D3 (Cholecalciferol) 60K Capsule",
        salt: "Cholecalciferol",
        form: "supplement",
        strength: "60,000 IU",
        packSize: "Strip of 4 softgels",
        manufacturer: "Pill Xpress Nutrition",
        mrp: 320.0,
        prescriptionRequired: false,
        category: "Supplements"
      },
      {
        id: 6,
        name: "Cough Relief Syrup",
        salt: "Dextromethorphan + Chlorpheniramine + Phenylephrine",
        form: "syrup",
        strength: "100 ml",
        packSize: "Bottle of 100 ml",
        manufacturer: "PX Remedies",
        mrp: 95.0,
        prescriptionRequired: false,
        category: "Cough & Cold"
      },
      {
        id: 7,
        name: "Antiseptic Skin Ointment",
        salt: "Povidone Iodine",
        form: "ointment",
        strength: "10% w/w",
        packSize: "Tube of 15 g",
        manufacturer: "Pill Xpress Care",
        mrp: 85.0,
        prescriptionRequired: false,
        category: "First Aid"
      },
      {
        id: 8,
        name: "ORSL Rehydration Solution",
        salt: "WHO ORS Formula",
        form: "syrup",
        strength: "200 ml",
        packSize: "Bottle of 200 ml",
        manufacturer: "PX Hydration",
        mrp: 65.0,
        prescriptionRequired: false,
        category: "Electrolytes"
      }
    ];

    // CART STATE
    const cart = {};

    function discountedPrice(mrp) {
      // 20% discount
      return +(mrp * 0.8).toFixed(2);
    }

    function formatCurrency(v) {
      return "‚Çπ" + v.toFixed(2);
    }

    function renderProducts() {
      const grid = document.getElementById("productGrid");
      const searchTerm = document.getElementById("searchInput").value.trim().toLowerCase();
      const activeFilter = document.querySelector(".filter-tab.active").dataset.filter;
      const sortValue = document.getElementById("sortSelect").value;

      let list = PRODUCTS.filter((p) => {
        const matchesFilter = activeFilter === "all" || p.form === activeFilter;
        const text =
          (p.name + " " + p.salt + " " + p.category + " " + p.manufacturer).toLowerCase();
        const matchesSearch = !searchTerm || text.includes(searchTerm);
        return matchesFilter && matchesSearch;
      });

      // Sorting
      if (sortValue === "price-low") {
        list.sort((a, b) => discountedPrice(a.mrp) - discountedPrice(b.mrp));
      } else if (sortValue === "price-high") {
        list.sort((a, b) => discountedPrice(b.mrp) - discountedPrice(a.mrp));
      } else if (sortValue === "name-az") {
        list.sort((a, b) => a.name.localeCompare(b.name));
      }

      document.getElementById("productCount").textContent = list.length.toString();

      grid.innerHTML = "";
      list.forEach((p, index) => {
        const node = document.createElement("article");
        node.className = "product-card";
        node.style.transitionDelay = `${index * 40}ms`;

        const mrp = p.mrp;
        const price = discountedPrice(mrp);
        const savings = mrp - price;

        node.innerHTML = `
          <div class="product-img-wrap">
            <div class="product-img-pill"></div>
          </div>
          <div class="product-body">
            <div class="product-title" title="${p.name}">${p.name}</div>
            <div class="product-sub">${p.salt} ‚Ä¢ ${p.strength}</div>
            <div class="product-sub">${p.packSize}</div>
            <div class="product-tags">
              <span class="tag">${p.category}</span>
              <span class="tag">${p.form.charAt(0).toUpperCase() + p.form.slice(1)}</span>
              ${
                p.prescriptionRequired
                  ? '<span class="tag rx">Rx Required</span>'
                  : '<span class="tag">OTC</span>'
              }
            </div>
            <div class="price-row">
              <div class="price-stack">
                <span class="price-now">${formatCurrency(price)}</span>
                <span class="price-mrp">MRP ${formatCurrency(mrp)}</span>
                <span class="price-save">You save ${formatCurrency(savings)}</span>
              </div>
              <div style="display:flex; flex-direction:column; align-items:flex-end; gap:0.25rem;">
                <span class="discount-pill">20% OFF</span>
                <button class="add-btn" type="button" data-id="${p.id}">
                  <span>ADD</span>
                  <span>Ôºã</span>
                </button>
              </div>
            </div>
          </div>
        `;

        grid.appendChild(node);

        // animate in
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            node.classList.add("visible");
          });
        });
      });

      // Attach add-to-cart listeners
      grid.querySelectorAll(".add-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const id = parseInt(btn.dataset.id, 10);
          addToCart(id);
        });
      });
    }

    function addToCart(productId) {
      if (!cart[productId]) {
        const product = PRODUCTS.find((p) => p.id === productId);
        cart[productId] = { product, qty: 1 };
      } else {
        cart[productId].qty += 1;
      }
      renderCart();
    }

    function updateQty(productId, delta) {
      if (!cart[productId]) return;
      cart[productId].qty += delta;
      if (cart[productId].qty <= 0) {
        delete cart[productId];
      }
      renderCart();
    }

    function renderCart() {
      const body = document.getElementById("cartBody");
      const items = Object.values(cart);
      const itemsCountSpan = document.getElementById("cartItemsCount");

      if (!items.length) {
        body.innerHTML = '<div class="cart-empty">No items yet. Add medicines to see your savings!</div>';
        itemsCountSpan.textContent = "0";
      } else {
        body.innerHTML = "";
        let totalMrp = 0;
        let totalPayable = 0;

        items.forEach(({ product, qty }) => {
          const mrpForQty = product.mrp * qty;
          const payableForQty = discountedPrice(product.mrp) * qty;
          totalMrp += mrpForQty;
          totalPayable += payableForQty;

          const itemNode = document.createElement("div");
          itemNode.className = "cart-item";
          itemNode.innerHTML = `
            <div>
              <div class="cart-item-name">${product.name}</div>
              <div class="cart-item-meta">${product.packSize}</div>
              <div class="cart-item-meta">${qty} x ${formatCurrency(discountedPrice(product.mrp))}</div>
            </div>
            <div class="cart-item-controls">
              <button class="qty-btn" data-id="${product.id}" data-delta="-1">‚àí</button>
              <span class="cart-qty">${qty}</span>
              <button class="qty-btn" data-id="${product.id}" data-delta="1">Ôºã</button>
              <span class="cart-item-price">${formatCurrency(payableForQty)}</span>
            </div>
          `;
          body.appendChild(itemNode);
        });

        itemsCountSpan.textContent = items
          .reduce((sum, i) => sum + i.qty, 0)
          .toString();

        // attach qty handlers
        body.querySelectorAll(".qty-btn").forEach((btn) => {
          const id = parseInt(btn.dataset.id, 10);
          const delta = parseInt(btn.dataset.delta, 10);
          btn.addEventListener("click", () => updateQty(id, delta));
        });

        const savings = totalMrp - totalPayable;
        document.getElementById("cartTotal").textContent = formatCurrency(totalPayable);
        document.getElementById("cartMrp").textContent = formatCurrency(totalMrp);
        document.getElementById("cartSavings").textContent = formatCurrency(savings);
      }
    }

    // FILTER & SEARCH HANDLERS
    document.getElementById("filterTabs").addEventListener("click", (e) => {
      const btn = e.target.closest(".filter-tab");
      if (!btn) return;
      document.querySelectorAll(".filter-tab").forEach((t) => t.classList.remove("active"));
      btn.classList.add("active");
      renderProducts();
    });

    document.getElementById("sortSelect").addEventListener("change", renderProducts);

    document.getElementById("searchBtn").addEventListener("click", renderProducts);
    document.getElementById("searchInput").addEventListener("keyup", (e) => {
      if (e.key === "Enter") renderProducts();
      // live search feel
      if (e.key.length === 1 || e.key === "Backspace" || e.key === "Delete") {
        renderProducts();
      }
    });

    // Initial render
    document.getElementById("year").textContent = new Date().getFullYear().toString();
    renderProducts();
    renderCart();
  </script>
</body>
</html>
